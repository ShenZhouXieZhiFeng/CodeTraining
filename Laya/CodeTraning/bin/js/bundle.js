var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var TestScene3_1 = require("./script/TestScene3");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/TestScene3.ts", TestScene3_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/TestScene3":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var GameUI_1 = require("./script/GameUI");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        // GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);
        new GameUI_1.default();
        // new TestScene3();
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./script/GameUI":4}],3:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CubeController = /** @class */ (function (_super) {
    __extends(CubeController, _super);
    function CubeController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._rotateV3 = new Laya.Vector3(0, -0.01, 0);
        return _this;
    }
    CubeController.prototype.onAwake = function () {
        this._owner = this.owner;
    };
    CubeController.prototype.onUpdate = function () {
        this._owner.transform.rotate(this._rotateV3, true);
    };
    return CubeController;
}(Laya.Script));
exports.CubeController = CubeController;
},{}],4:[function(require,module,exports){
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var CubeController_1 = require("./CubeController");
var UnlitMaterial_1 = require("./MaterialAndShader/UnlitMaterial");
var GameUI = /** @class */ (function () {
    function GameUI() {
        window['gu'] = this;
        Laya.Shader3D.debugMode = true;
        //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 3, 3));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //添加自定义模型
        var box = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1)));
        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        box.addComponent(CubeController_1.CubeController);
        // var customMaterial: CustomMaterial = new CustomMaterial();
        // box.meshRenderer.sharedMaterial = customMaterial;
        // let spMat: Laya.UnlitMaterial = new Laya.UnlitMaterial();
        // Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, (tex) =>
        // {
        //     spMat.albedoTexture = tex;
        // }));
        // box.meshRenderer.material = spMat;
        this.setMat(box);
        // let material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        // Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex: Laya.Texture2D)
        // {
        //     material.albedoTexture = tex;
        // }));
        // box.meshRenderer.material = material;
    }
    GameUI.prototype.setMat = function (box) {
        return __awaiter(this, void 0, void 0, function () {
            var spMat;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        spMat = new UnlitMaterial_1.UnlitMaterial();
                        return [4 /*yield*/, spMat.compile()];
                    case 1:
                        _a.sent();
                        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
                            spMat.albedoTexture = tex;
                        }));
                        box.meshRenderer.material = spMat;
                        return [2 /*return*/];
                }
            });
        });
    };
    return GameUI;
}());
exports.default = GameUI;
},{"./CubeController":3,"./MaterialAndShader/UnlitMaterial":5}],5:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var RES_1 = require("../RES");
var UnlitMaterial = /** @class */ (function (_super) {
    __extends(UnlitMaterial, _super);
    function UnlitMaterial() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._albedoIntensity = 1.0;
        _this._enableVertexColor = false;
        _this._albedoColor = new Laya.Vector4(1, 1, 1, 1);
        _this._alphaTest = true;
        return _this;
    }
    UnlitMaterial.prototype.compile = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UnlitMaterial.initShader()];
                    case 1:
                        _a.sent();
                        this.setShaderName(UnlitMaterial.shaderName);
                        this._shaderValues.setVector(UnlitMaterial.ALBEDOCOLOR, new Laya.Vector4(1, 1, 1, 1));
                        return [2 /*return*/];
                }
            });
        });
    };
    Object.defineProperty(UnlitMaterial.prototype, "albedoColor", {
        get: function () {
            return this._albedoColor;
        },
        set: function (value) {
            this._albedoColor = value;
            this._shaderValues.setVector(UnlitMaterial.ALBEDOCOLOR, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UnlitMaterial.prototype, "albedoTexture", {
        get: function () {
            return this._shaderValues.getTexture(UnlitMaterial.ALBEDOTEXTURE);
        },
        set: function (value) {
            if (value) {
                this._defineDatas.add(UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE);
            }
            else {
                this._defineDatas.remove(UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE);
            }
            this._shaderValues.setTexture(UnlitMaterial.ALBEDOTEXTURE, value);
        },
        enumerable: true,
        configurable: true
    });
    UnlitMaterial.initShader = function () {
        return __awaiter(this, void 0, void 0, function () {
            var attributeMap, uniformMap, vs, ps, shader, subShader;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (UnlitMaterial.hasInit) {
                            return [2 /*return*/];
                        }
                        UnlitMaterial.hasInit = true;
                        UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE = UnlitMaterial.shaderDefines.registerDefine("ALBEDOTEXTURE");
                        UnlitMaterial.SHADERDEFINE_TILINGOFFSET = UnlitMaterial.shaderDefines.registerDefine("TILINGOFFSET");
                        UnlitMaterial.SHADERDEFINE_ENABLEVERTEXCOLOR = UnlitMaterial.shaderDefines.registerDefine("ENABLEVERTEXCOLOR");
                        attributeMap = {
                            'a_Position': /*laya.d3.graphics.Vertex.VertexMesh.MESH_POSITION0*/ 0,
                            'a_Color': /*laya.d3.graphics.Vertex.VertexMesh.MESH_COLOR0*/ 1,
                            'a_Texcoord0': /*laya.d3.graphics.Vertex.VertexMesh.MESH_TEXTURECOORDINATE0*/ 2,
                            'a_BoneWeights': /*laya.d3.graphics.Vertex.VertexMesh.MESH_BLENDWEIGHT0*/ 7,
                            'a_BoneIndices': /*laya.d3.graphics.Vertex.VertexMesh.MESH_BLENDINDICES0*/ 6
                        };
                        uniformMap = {
                            'u_Bones': /*laya.d3.shader.Shader3D.PERIOD_CUSTOM*/ 0,
                            'u_AlbedoTexture': /*laya.d3.shader.Shader3D.PERIOD_MATERIAL*/ 1,
                            'u_AlbedoColor': /*laya.d3.shader.Shader3D.PERIOD_MATERIAL*/ 1,
                            'u_TilingOffset': /*laya.d3.shader.Shader3D.PERIOD_MATERIAL*/ 1,
                            'u_AlphaTestValue': /*laya.d3.shader.Shader3D.PERIOD_MATERIAL*/ 1,
                            'u_MvpMatrix': /*laya.d3.shader.Shader3D.PERIOD_SPRITE*/ 2,
                            'u_FogStart': /*laya.d3.shader.Shader3D.PERIOD_SCENE*/ 4,
                            'u_FogRange': /*laya.d3.shader.Shader3D.PERIOD_SCENE*/ 4,
                            'u_FogColor': /*laya.d3.shader.Shader3D.PERIOD_SCENE*/ 4
                        };
                        return [4 /*yield*/, RES_1.RESNormal.loadRes("UnlitShader/vs.glsl")];
                    case 1:
                        vs = _a.sent();
                        return [4 /*yield*/, RES_1.RESNormal.loadRes("UnlitShader/ps.glsl")];
                    case 2:
                        ps = _a.sent();
                        shader = Laya.Shader3D.add(UnlitMaterial.shaderName);
                        subShader = new Laya.SubShader(attributeMap, uniformMap, Laya.SkinnedMeshSprite3D.shaderDefines, UnlitMaterial.shaderDefines);
                        shader.addSubShader(subShader);
                        subShader.addShaderPass(vs, ps);
                        return [2 /*return*/];
                }
            });
        });
    };
    UnlitMaterial.hasInit = false;
    UnlitMaterial.shaderName = "UnlitShader";
    UnlitMaterial.ALBEDOTEXTURE = Laya.Shader3D.propertyNameToID('u_AlbedoTexture');
    UnlitMaterial.ALBEDOCOLOR = Laya.Shader3D.propertyNameToID('u_AlbedoColor');
    UnlitMaterial.RENDERMODE_OPAQUE = 0;
    UnlitMaterial.RENDERMODE_CUTOUT = 1;
    UnlitMaterial.RENDERMODE_TRANSPARENT = 2;
    UnlitMaterial.RENDERMODE_ADDTIVE = 3;
    UnlitMaterial.SHADERDEFINE_ALBEDOTEXTURE = 0;
    UnlitMaterial.SHADERDEFINE_TILINGOFFSET = 0;
    UnlitMaterial.SHADERDEFINE_ENABLEVERTEXCOLOR = 0;
    return UnlitMaterial;
}(Laya.BaseMaterial));
exports.UnlitMaterial = UnlitMaterial;
},{"../RES":6}],6:[function(require,module,exports){
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var la = Laya;
////普通资源类型////
var RES_PATH_ATLAS = "res/atlas"; //图集
var RES_PATH_IMAGE = "res/images"; //图片
var RES_PATH_CONFIG = "res/configs"; //配置文件
var RES_PATH_AUDIO = "res/sounds"; //音频,不能预先加载
var RES_PATH_VIEW = "res/view"; //导出的UI文件
var RES_PATH_ANIMATION = "res/animation"; // 动画文件
var RES_PATH_SHADER = "res/glsl"; // shader文件
////3D类型资源////
var RES_PATH_D3_SCENES = "res/d3/scenes"; //场景
var RES_PATH_D3_MODELS = "res/d3/models"; //模型
var RES_PATH_D3_OTHERS = "res/d3/others"; //其他
/**资源类型 */
var RES_TYPE;
(function (RES_TYPE) {
    RES_TYPE[RES_TYPE["normal"] = 0] = "normal";
    RES_TYPE[RES_TYPE["d3"] = 1] = "d3"; //3d资源，场景，模型等,3d资源用RES3D加载
})(RES_TYPE = exports.RES_TYPE || (exports.RES_TYPE = {}));
/**资源封装类 */
var RES = /** @class */ (function () {
    function RES() {
    }
    /**
     * 根据资源民称后缀拼接资源真实路径，资源需要按照规定位置存放
     * 参数如: 1.jpg
     */
    RES.joinResPath = function (resName) {
        // 如果已经是全路径，就不做凭拼接
        if (resName.indexOf("res/") >= 0) {
            return resName;
        }
        var path = "";
        var suffix = la.Utils.getFileExtension(resName);
        switch (suffix) {
            case "atlas":
                path = RES_PATH_ATLAS;
                // 对序列帧动画做专门处理
                if (resName.indexOf("anim") >= 0) {
                    path = RES_PATH_ANIMATION;
                }
                break;
            case "png":
            case "jpg":
            case "jpeg":
                path = RES_PATH_IMAGE;
                break;
            case "json":
            case "xml":
                path = RES_PATH_CONFIG;
                break;
            case "mp3":
            case "wav":
                path = RES_PATH_AUDIO;
                break;
            case "sk":
                path = RES_PATH_ANIMATION;
                break;
            case "scene":
                path = RES_PATH_VIEW;
                break;
            case "ls":
                path = RES_PATH_D3_SCENES;
                break;
            case "lh":
                path = RES_PATH_D3_MODELS;
                break;
            case "glsl":
                path = RES_PATH_SHADER;
                break;
            default:
                break;
        }
        var res = path + "/" + resName;
        return res;
    };
    /**
     * 获取资源的完整路径
     * @param _resName 资源局部路径
     */
    RES.getFullResPath = function (_resName) {
        return this.joinResPath(_resName);
    };
    /**
     * 获取资源，资源需要已经加载过，否则返回空
     * @param resName 资源局部路径，例如: scene1/scene1.ls
     */
    RES.getRes = function (resName) {
        var resFullName = this.joinResPath(resName);
        return this.getResByFullName(resFullName);
    };
    /**
     * 获取资源，资源需要已经加载过，否则返回空
     * @param resName 资源完整路径
     */
    RES.getResByFullName = function (resFullName) {
        var res = la.loader.getRes(resFullName);
        return res;
    };
    /**
     * 完全清除一个资源，注意：3d资源通过这个只能清除一层壳，3d资源的管理只能通过AssetRecord文件来做
     * @param resName 资源局部路径
     */
    RES.clearRes = function (resName) {
        var resFullName = this.joinResPath(resName);
        this.clearResByFullName(resFullName);
    };
    /**
     * 完全清除一个资源，注意：3d资源通过这个只能清除一层壳，3d资源的管理只能通过AssetRecord文件来做
     * @param resName 资源完整路径
     */
    RES.clearResByFullName = function (resFullName) {
        // lg.info(TG_RES, "clearResByFullName %o", resFullName);
        Laya.Loader.clearRes(resFullName);
    };
    return RES;
}());
exports.default = RES;
/**普通资源加载封装 */
var RESNormal = /** @class */ (function () {
    function RESNormal() {
    }
    /**
     * 获得一张图集中的图片,图集需要已加载过，否则回空
     * @param atlasName 图集名称
     * @param imgName 图片名称
     */
    RESNormal.getImageFromAtlas = function (atlasName, imgName) {
        var fullPath = atlasName + "/" + imgName;
        return RES.getResByFullName(fullPath);
    };
    /**
     * 加载单个资源,图集、图片、配置表等
     * @param _resName 资源局部路径，例如: bg.png
     * @param _needMgr 是否归于场景管理
     */
    RESNormal.loadRes = function (_resName, _prograssFunc) {
        if (_prograssFunc === void 0) { _prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var real_path;
            return __generator(this, function (_a) {
                real_path = RES.joinResPath(_resName);
                if (!real_path)
                    return [2 /*return*/, null];
                return [2 /*return*/, this.loadResByFullName(real_path)];
            });
        });
    };
    /**
     * 加载资源组
     * @param _resArr 资源组数组，每个资源都是局部路径
     * @param _prograssFunc 进度回调，带一个参数（0-1）
     */
    RESNormal.loadGroupAsync = function (_resArr, _prograssFunc) {
        if (_prograssFunc === void 0) { _prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var real_res_arr, _i, _resArr_1, res_name, real_name;
            return __generator(this, function (_a) {
                if (!_resArr || _resArr.length <= 0) {
                    return [2 /*return*/, false];
                }
                real_res_arr = [];
                for (_i = 0, _resArr_1 = _resArr; _i < _resArr_1.length; _i++) {
                    res_name = _resArr_1[_i];
                    real_name = RES.joinResPath(res_name);
                    real_res_arr.push(real_name);
                }
                return [2 /*return*/, this.loadResByFullName(real_res_arr, _prograssFunc)];
            });
        });
    };
    /**
     * 加载资源,使用完整路径
     * @param _resName 完整资源路径或资源组名
     * @param prograssFunc 进度回调，带一个参数（0-1）
     */
    RESNormal.loadResByFullName = function (resFullName, prograssFunc) {
        if (prograssFunc === void 0) { prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var prograssHandler, progress_handler;
            var _this = this;
            return __generator(this, function (_a) {
                if (!resFullName)
                    return [2 /*return*/];
                prograssHandler = null;
                progress_handler = null;
                if (prograssFunc) {
                    progress_handler = la.Handler.create(this, prograssFunc, null, false);
                }
                return [2 /*return*/, new Promise(function (resolve) {
                        la.loader.load(resFullName, la.Handler.create(_this, function (_res) {
                            // lg.info(TG_RES, "loadResFull normal over %o", resFullName);
                            resolve(_res);
                        }), progress_handler);
                    })];
            });
        });
    };
    return RESNormal;
}());
exports.RESNormal = RESNormal;
/**3d资源加载封装 */
var RESD3 = /** @class */ (function () {
    function RESD3() {
    }
    /**
     * 根据lh、ls资源名称，获取对应的AssetsRecord文件路径
     * @param resName 场景或模型资源的局部路径
     */
    RESD3.getAssetsRecord = function (resName) {
        var resFullName = RES.joinResPath(resName);
        return this.getAssetsRecordByResFullName(resFullName);
    };
    /**
     * 根据lh、ls资源名称，获取对应的AssetsRecord文件路径
     * @param resFullName 场景或模型资源的完整路径
     */
    RESD3.getAssetsRecordByResFullName = function (resFullName) {
        var num = resFullName.lastIndexOf('/');
        var parentFolder = resFullName.substr(0, num);
        var assetsRecordUrl = parentFolder + "/AssetsRecord.json";
        return assetsRecordUrl;
    };
    /**
     * 获取某个已加载过的3d物体的克隆
     * @param _resName 局部路径
     */
    RESD3.getSprited3DClone = function (resName) {
        var spriteModel = RES.getRes(resName);
        return spriteModel.clone();
    };
    /**
     * 加载3D资源,使用完整路径
     * @param resFullName 资源局部路径
     * @param prograssFunc loading函数
     */
    RESD3.loadRes = function (resName, prograssFunc) {
        if (prograssFunc === void 0) { prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var resFullName;
            return __generator(this, function (_a) {
                resFullName = RES.getFullResPath(resName);
                return [2 /*return*/, this.loadResByFullName(resFullName, prograssFunc)];
            });
        });
    };
    /**
     * 加载3D资源组
     * @param _resArr 资源组数组，所有资源都是局部路径
     * @param _prograssFunc 进度回调，带一个参数（0-1）
     */
    RESD3.loadGroupAsync = function (_resArr, _prograssFunc) {
        if (_prograssFunc === void 0) { _prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var real_res_arr, _i, _resArr_2, res_name, real_name;
            return __generator(this, function (_a) {
                if (!_resArr || _resArr.length <= 0) {
                    return [2 /*return*/, false];
                }
                real_res_arr = [];
                for (_i = 0, _resArr_2 = _resArr; _i < _resArr_2.length; _i++) {
                    res_name = _resArr_2[_i];
                    real_name = RES.joinResPath(res_name);
                    real_res_arr.push(real_name);
                }
                return [2 /*return*/, this.loadResByFullName(real_res_arr, _prograssFunc)];
            });
        });
    };
    /**
     * 加载3D资源组
     * @param _resArr 资源组数组，所有资源都是完整路径
     * @param _prograssFunc 进度回调，带一个参数（0-1）
     */
    RESD3.loadGroupAsyncByFullName = function (_resArr, _prograssFunc) {
        if (_prograssFunc === void 0) { _prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!_resArr || _resArr.length <= 0) {
                    return [2 /*return*/, false];
                }
                return [2 /*return*/, this.loadResByFullName(_resArr, _prograssFunc)];
            });
        });
    };
    /**
     * 加载3D资源,使用完整路径
     * @param resFullName 资源完整路径
     * @param prograssFunc loading函数
     */
    RESD3.loadResByFullName = function (resFullName, prograssFunc) {
        if (prograssFunc === void 0) { prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var prograssHandler, progress_handler;
            var _this = this;
            return __generator(this, function (_a) {
                if (!resFullName)
                    return [2 /*return*/];
                prograssHandler = null;
                progress_handler = null;
                if (prograssFunc) {
                    progress_handler = la.Handler.create(this, prograssFunc, null, false);
                }
                return [2 /*return*/, new Promise(function (resolve) {
                        la.loader.create(resFullName, la.Handler.create(_this, function () {
                            // lg.info(TG_RES, "loadResByFullName 3d over %o", resFullName);
                            resolve();
                        }), progress_handler);
                    })];
            });
        });
    };
    /**
     * 加载3D资源,基于AssetsRecord加载,进度条更精细
     * @param resFullName 资源完整路径
     * @param prograssFunc loading函数
     */
    RESD3.loadResByAssetsRecord = function (resFullName, prograssFunc) {
        if (prograssFunc === void 0) { prograssFunc = null; }
        return __awaiter(this, void 0, void 0, function () {
            var arRes, arConfig, resArr, num, parentFolder, _i, arConfig_1, res;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        arRes = this.getAssetsRecordByResFullName(resFullName);
                        return [4 /*yield*/, this.loadResByFullName(arRes)];
                    case 1:
                        _a.sent();
                        arConfig = RES.getResByFullName(arRes);
                        if (!arConfig || arConfig.length <= 0) {
                            return [2 /*return*/];
                        }
                        resArr = [];
                        num = resFullName.lastIndexOf('/');
                        parentFolder = resFullName.substr(0, num) + '/';
                        for (_i = 0, arConfig_1 = arConfig; _i < arConfig_1.length; _i++) {
                            res = arConfig_1[_i];
                            resArr.push(parentFolder + res.url);
                        }
                        return [4 /*yield*/, this.loadResByFullName(resArr, prograssFunc)];
                    case 2:
                        _a.sent();
                        // 最后再加载并创建自身（ls、lh），其内部资源已经在上方加载完了
                        return [4 /*yield*/, this.loadResByFullName(resFullName)];
                    case 3:
                        // 最后再加载并创建自身（ls、lh），其内部资源已经在上方加载完了
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return RESD3;
}());
exports.RESD3 = RESD3;
},{}],7:[function(require,module,exports){
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var RES_1 = require("./RES");
var TestScene3 = /** @class */ (function () {
    function TestScene3() {
        // sceneUrl = "scene03/Conventional/scene03.ls";
        this.sceneUrl = "scene01/Conventional/test1.ls";
        this.url1 = "res/bg.jpg";
        this.url2 = "res/bg_create.png";
        this.baseUrl = "res/d3/models/Arch_AA00/";
        this.assetUrl = "AssetsRecord.json";
        this.modelUrl = "Arch_AA00.lh";
        window['test'] = this;
        this.loadScene();
    }
    TestScene3.prototype.loadScene = function () {
        return __awaiter(this, void 0, void 0, function () {
            var scene, camera;
            return __generator(this, function (_a) {
                scene = new Laya.Scene3D();
                Laya.stage.addChildAt(scene, 0);
                this.scene = scene;
                camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
                camera.transform.translate(new Laya.Vector3(0, 3, 3));
                camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
                return [2 /*return*/];
            });
        });
    };
    TestScene3.prototype.destoryScene = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        });
    };
    TestScene3.prototype.loadImg = function (url) {
        var img = new Laya.Image();
        img.loadImage(url);
        Laya.stage.addChild(img);
        this.img1 = img;
    };
    TestScene3.prototype.clearImg = function () {
        this.img1.texture.destroy(true);
        this.img1.destroy(true);
        this.img1 = null;
    };
    TestScene3.prototype.loadModel = function () {
        return __awaiter(this, void 0, void 0, function () {
            var model;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, RES_1.RESD3.loadRes(this.baseUrl + this.modelUrl)];
                    case 1:
                        _a.sent();
                        model = RES_1.default.getRes(this.baseUrl + this.modelUrl);
                        this.scene.addChild(model);
                        this.model = model;
                        return [2 /*return*/];
                }
            });
        });
    };
    TestScene3.prototype.destoryModel = function () {
        this.scene.removeChild(this.model);
        this.model.removeSelf();
        this.model.destroy(true);
        this.model = null;
        this.assetsDispose();
    };
    TestScene3.prototype.assetsDispose = function () {
        //加载资源释放表
        Laya.loader.load(this.baseUrl + this.assetUrl, Laya.Handler.create(this, this.onAssetOK));
    };
    //加载资源释放表完成后
    TestScene3.prototype.onAssetOK = function () {
        //获取加载的数据（Json数据转化成数组）
        var arr = Laya.Loader.getRes(this.baseUrl + this.assetUrl);
        for (var i = arr.length - 1; i > -1; i--) {
            //根据资源路径获取资源
            var url = this.baseUrl + ("" + arr[i].url);
            var resource = Laya.loader.getRes(url);
            console.error(url, resource);
            if (resource) {
                //资源释放
                resource.destroy();
            }
            else {
                console.log(url);
            }
        }
    };
    return TestScene3;
}());
exports.default = TestScene3;
},{"./RES":6}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NvZnQvbGF5YTIuMC4yL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0N1YmVDb250cm9sbGVyLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvc2NyaXB0L01hdGVyaWFsQW5kU2hhZGVyL1VubGl0TWF0ZXJpYWwudHMiLCJzcmMvc2NyaXB0L1JFUy50cyIsInNyYy9zY3JpcHQvVGVzdFNjZW5lMy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsa0RBQTRDO0FBQzVDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsc0JBQXNCLEVBQUMsb0JBQVUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFoQk0sZ0JBQUssR0FBUSxHQUFHLENBQUM7SUFDakIsaUJBQU0sR0FBUSxJQUFJLENBQUM7SUFDbkIsb0JBQVMsR0FBUSxZQUFZLENBQUM7SUFDOUIscUJBQVUsR0FBUSxNQUFNLENBQUM7SUFDekIsaUJBQU0sR0FBUSxLQUFLLENBQUM7SUFDcEIsaUJBQU0sR0FBUSxNQUFNLENBQUM7SUFDckIscUJBQVUsR0FBSyxzQkFBc0IsQ0FBQztJQUN0QyxvQkFBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBSyxHQUFTLEtBQUssQ0FBQztJQUNwQixlQUFJLEdBQVMsS0FBSyxDQUFDO0lBQ25CLHVCQUFZLEdBQVMsS0FBSyxDQUFDO0lBQzNCLDRCQUFpQixHQUFTLElBQUksQ0FBQztJQU0xQyxpQkFBQztDQWxCRCxBQWtCQyxJ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LE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUNoRDtZQUNJLFlBQVk7WUFDWixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFHLEtBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUssQ0FBQSxDQUFDO1lBQ3pDLElBQUksUUFBUSxHQUFrQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQWtCLENBQUM7WUFDdkUsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDN0IsSUFBSSxRQUFRLEVBQ1o7Z0JBQ0ksTUFBTTtnQkFDTixRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDdEI7aUJBRUQ7Z0JBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNwQjtTQUNKO0lBQ0wsQ0FBQztJQUVMLGlCQUFDO0FBQUQsQ0FsSEEsQUFrSEMsSUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IFRlc3RTY2VuZTMgZnJvbSBcIi4vc2NyaXB0L1Rlc3RTY2VuZTNcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwidGVzdC9UZXN0U2NlbmUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9UZXN0U2NlbmUzLnRzXCIsVGVzdFNjZW5lMyk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIjtcclxuaW1wb3J0IFRlc3RTY2VuZTMgZnJvbSBcIi4vc2NyaXB0L1Rlc3RTY2VuZTNcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHQvLyBHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0XHRuZXcgR2FtZVVJKCk7XHJcblx0XHQvLyBuZXcgVGVzdFNjZW5lMygpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJleHBvcnQgY2xhc3MgQ3ViZUNvbnRyb2xsZXIgZXh0ZW5kcyBMYXlhLlNjcmlwdFxyXG57XHJcbiAgICBwcml2YXRlIF9vd25lcjogTGF5YS5TcHJpdGUzRDtcclxuXHJcbiAgICBvbkF3YWtlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9vd25lciA9IHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUzRDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9yb3RhdGVWMyA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgLTAuMDEsIDApO1xyXG4gICAgb25VcGRhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX293bmVyLnRyYW5zZm9ybS5yb3RhdGUodGhpcy5fcm90YXRlVjMsIHRydWUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IFJFUywgeyBSRVNEMywgUkVTTm9ybWFsIH0gZnJvbSBcIi4vUkVTXCI7XHJcbmltcG9ydCB7IEN1YmVDb250cm9sbGVyIH0gZnJvbSBcIi4vQ3ViZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgQ3VzdG9tTWF0ZXJpYWwgfSBmcm9tIFwiLi9NYXRlcmlhbEFuZFNoYWRlci9DdXN0b21NYXRlcmlhbFwiO1xyXG5pbXBvcnQgeyBVbmxpdE1hdGVyaWFsIH0gZnJvbSBcIi4vTWF0ZXJpYWxBbmRTaGFkZXIvVW5saXRNYXRlcmlhbFwiO1xyXG5pbXBvcnQgeyBIaWdoTGlnaHRNYXRlcmlhbCB9IGZyb20gXCIuL01hdGVyaWFsQW5kU2hhZGVyL0hpZ2hMaWdodE1hdGVyaWFsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUlcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHdpbmRvd1snZ3UnXSA9IHRoaXM7XHJcblxyXG4gICAgICAgIExheWEuU2hhZGVyM0QuZGVidWdNb2RlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy/mt7vliqAzROWcuuaZr1xyXG4gICAgICAgIGxldCBzY2VuZTogTGF5YS5TY2VuZTNEID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZTNEKCkpIGFzIExheWEuU2NlbmUzRDtcclxuXHJcbiAgICAgICAgLy/mt7vliqDnhafnm7jmnLpcclxuICAgICAgICBsZXQgY2FtZXJhOiBMYXlhLkNhbWVyYSA9IChzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5DYW1lcmEoMCwgMC4xLCAxMDApKSkgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLCAzLCAzKSk7XHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygtMzAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8v5re75Yqg5pa55ZCR5YWJXHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbkxpZ2h0OiBMYXlhLkRpcmVjdGlvbkxpZ2h0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSkgYXMgTGF5YS5EaXJlY3Rpb25MaWdodDtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC42LCAwLjYsIDAuNik7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLndvcmxkTWF0cml4LnNldEZvcndhcmQobmV3IExheWEuVmVjdG9yMygxLCAtMSwgMCkpO1xyXG5cclxuICAgICAgICAvL+a3u+WKoOiHquWumuS5ieaooeWei1xyXG4gICAgICAgIGxldCBib3g6IExheWEuTWVzaFNwcml0ZTNEID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVCb3goMSwgMSwgMSkpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICBib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDQ1LCAwKSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICBib3guYWRkQ29tcG9uZW50KEN1YmVDb250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGN1c3RvbU1hdGVyaWFsOiBDdXN0b21NYXRlcmlhbCA9IG5ldyBDdXN0b21NYXRlcmlhbCgpO1xyXG4gICAgICAgIC8vIGJveC5tZXNoUmVuZGVyZXIuc2hhcmVkTWF0ZXJpYWwgPSBjdXN0b21NYXRlcmlhbDtcclxuXHJcbiAgICAgICAgLy8gbGV0IHNwTWF0OiBMYXlhLlVubGl0TWF0ZXJpYWwgPSBuZXcgTGF5YS5VbmxpdE1hdGVyaWFsKCk7XHJcbiAgICAgICAgLy8gTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsICh0ZXgpID0+XHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICBzcE1hdC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG4gICAgICAgIC8vIH0pKTtcclxuICAgICAgICAvLyBib3gubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gc3BNYXQ7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TWF0KGJveCk7XHJcblxyXG4gICAgICAgIC8vIGxldCBtYXRlcmlhbDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuICAgICAgICAvLyBMYXlhLlRleHR1cmUyRC5sb2FkKFwicmVzL2xheWFib3gucG5nXCIsIExheWEuSGFuZGxlci5jcmVhdGUobnVsbCwgZnVuY3Rpb24gKHRleDogTGF5YS5UZXh0dXJlMkQpXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICBtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG4gICAgICAgIC8vIH0pKTtcclxuICAgICAgICAvLyBib3gubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBzZXRNYXQoYm94KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBzcE1hdDogVW5saXRNYXRlcmlhbCA9IG5ldyBVbmxpdE1hdGVyaWFsKCk7XHJcbiAgICAgICAgYXdhaXQgc3BNYXQuY29tcGlsZSgpO1xyXG4gICAgICAgIExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCAodGV4KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3BNYXQuYWxiZWRvVGV4dHVyZSA9IHRleDtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IHNwTWF0O1xyXG5cclxuICAgICAgICAvLyBhd2FpdCBDdXN0b21NYXRlcmlhbC5jb21waWxlKCk7XHJcblxyXG4gICAgICAgIC8vIGxldCBzcE1hdDogQ3VzdG9tTWF0ZXJpYWwgPSBuZXcgQ3VzdG9tTWF0ZXJpYWwoKTtcclxuICAgICAgICAvLyBsZXQgaW1nMSA9IGF3YWl0IFJFU05vcm1hbC5sb2FkUmVzQnlGdWxsTmFtZShcInJlcy9mbG93ZXIuanBnXCIpO1xyXG4gICAgICAgIC8vIGxldCBpbWcyID0gYXdhaXQgUkVTTm9ybWFsLmxvYWRSZXNCeUZ1bGxOYW1lKFwicmVzL3dvb2QuanBnXCIpO1xyXG4gICAgICAgIC8vIHNwTWF0LnRleHR1cmUgPSBpbWcxO1xyXG4gICAgICAgIC8vIHNwTWF0LnRleHR1cmUyID0gaW1nMjtcclxuICAgICAgICAvLyBib3gubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gc3BNYXQ7XHJcblxyXG4gICAgICAgIC8vIExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCAodGV4KSA9PlxyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgc3BNYXQuYWxiZWRvVGV4dHVyZSA9IHRleDtcclxuICAgICAgICAvLyB9KSk7XHJcbiAgICAgICAgLy8gc3BNYXQuYWxiZWRvQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDEsIDAsIDAsIDEpO1xyXG5cclxuICAgICAgICAvLyB3aW5kb3dbJ3NwTWF0J10gPSBzcE1hdDtcclxuICAgIH1cclxufSIsImltcG9ydCBSRVMsIHsgUkVTTm9ybWFsIH0gZnJvbSBcIi4uL1JFU1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVubGl0TWF0ZXJpYWwgZXh0ZW5kcyBMYXlhLkJhc2VNYXRlcmlhbFxyXG57XHJcbiAgICBzdGF0aWMgaGFzSW5pdCA9IGZhbHNlO1xyXG4gICAgc3RhdGljIHNoYWRlck5hbWUgPSBcIlVubGl0U2hhZGVyXCI7XHJcbiAgICBzdGF0aWMgQUxCRURPVEVYVFVSRSA9IExheWEuU2hhZGVyM0QucHJvcGVydHlOYW1lVG9JRCgndV9BbGJlZG9UZXh0dXJlJyk7XHJcbiAgICBzdGF0aWMgQUxCRURPQ09MT1IgPSBMYXlhLlNoYWRlcjNELnByb3BlcnR5TmFtZVRvSUQoJ3VfQWxiZWRvQ29sb3InKTtcclxuXHJcbiAgICBzdGF0aWMgUkVOREVSTU9ERV9PUEFRVUUgPSAwO1xyXG4gICAgc3RhdGljIFJFTkRFUk1PREVfQ1VUT1VUID0gMTtcclxuICAgIHN0YXRpYyBSRU5ERVJNT0RFX1RSQU5TUEFSRU5UID0gMjtcclxuICAgIHN0YXRpYyBSRU5ERVJNT0RFX0FERFRJVkUgPSAzO1xyXG4gICAgc3RhdGljIFNIQURFUkRFRklORV9BTEJFRE9URVhUVVJFID0gMDtcclxuICAgIHN0YXRpYyBTSEFERVJERUZJTkVfVElMSU5HT0ZGU0VUID0gMDtcclxuICAgIHN0YXRpYyBTSEFERVJERUZJTkVfRU5BQkxFVkVSVEVYQ09MT1IgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX2FsYmVkb0ludGVuc2l0eSA9IDEuMDtcclxuICAgIHByaXZhdGUgX2VuYWJsZVZlcnRleENvbG9yID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9hbGJlZG9Db2xvcjogTGF5YS5WZWN0b3I0ID0gbmV3IExheWEuVmVjdG9yNCgxLCAxLCAxLCAxKTtcclxuICAgIHByaXZhdGUgX2FscGhhVGVzdDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGNvbXBpbGUoKVxyXG4gICAge1xyXG4gICAgICAgIGF3YWl0IFVubGl0TWF0ZXJpYWwuaW5pdFNoYWRlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0U2hhZGVyTmFtZShVbmxpdE1hdGVyaWFsLnNoYWRlck5hbWUpO1xyXG4gICAgICAgIHRoaXMuX3NoYWRlclZhbHVlcy5zZXRWZWN0b3IoVW5saXRNYXRlcmlhbC5BTEJFRE9DT0xPUiwgbmV3IExheWEuVmVjdG9yNCgxLCAxLCAxLCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBhbGJlZG9Db2xvcih2YWx1ZTogTGF5YS5WZWN0b3I0KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX2FsYmVkb0NvbG9yID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fc2hhZGVyVmFsdWVzLnNldFZlY3RvcihVbmxpdE1hdGVyaWFsLkFMQkVET0NPTE9SLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhbGJlZG9Db2xvcigpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsYmVkb0NvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgYWxiZWRvVGV4dHVyZSh2YWx1ZTogTGF5YS5CYXNlVGV4dHVyZSlcclxuICAgIHtcclxuICAgICAgICBpZiAodmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9kZWZpbmVEYXRhcy5hZGQoVW5saXRNYXRlcmlhbC5TSEFERVJERUZJTkVfQUxCRURPVEVYVFVSRSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RlZmluZURhdGFzLnJlbW92ZShVbmxpdE1hdGVyaWFsLlNIQURFUkRFRklORV9BTEJFRE9URVhUVVJFKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2hhZGVyVmFsdWVzLnNldFRleHR1cmUoVW5saXRNYXRlcmlhbC5BTEJFRE9URVhUVVJFLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhbGJlZG9UZXh0dXJlKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2hhZGVyVmFsdWVzLmdldFRleHR1cmUoVW5saXRNYXRlcmlhbC5BTEJFRE9URVhUVVJFKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgaW5pdFNoYWRlcigpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKFVubGl0TWF0ZXJpYWwuaGFzSW5pdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgVW5saXRNYXRlcmlhbC5oYXNJbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgVW5saXRNYXRlcmlhbC5TSEFERVJERUZJTkVfQUxCRURPVEVYVFVSRSA9IFVubGl0TWF0ZXJpYWwuc2hhZGVyRGVmaW5lcy5yZWdpc3RlckRlZmluZShcIkFMQkVET1RFWFRVUkVcIik7XHJcbiAgICAgICAgVW5saXRNYXRlcmlhbC5TSEFERVJERUZJTkVfVElMSU5HT0ZGU0VUID0gVW5saXRNYXRlcmlhbC5zaGFkZXJEZWZpbmVzLnJlZ2lzdGVyRGVmaW5lKFwiVElMSU5HT0ZGU0VUXCIpO1xyXG4gICAgICAgIFVubGl0TWF0ZXJpYWwuU0hBREVSREVGSU5FX0VOQUJMRVZFUlRFWENPTE9SID0gVW5saXRNYXRlcmlhbC5zaGFkZXJEZWZpbmVzLnJlZ2lzdGVyRGVmaW5lKFwiRU5BQkxFVkVSVEVYQ09MT1JcIik7XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVNYXAgPSB7XHJcbiAgICAgICAgICAgICdhX1Bvc2l0aW9uJzovKmxheWEuZDMuZ3JhcGhpY3MuVmVydGV4LlZlcnRleE1lc2guTUVTSF9QT1NJVElPTjAqLzAsXHJcbiAgICAgICAgICAgICdhX0NvbG9yJzovKmxheWEuZDMuZ3JhcGhpY3MuVmVydGV4LlZlcnRleE1lc2guTUVTSF9DT0xPUjAqLzEsXHJcbiAgICAgICAgICAgICdhX1RleGNvb3JkMCc6LypsYXlhLmQzLmdyYXBoaWNzLlZlcnRleC5WZXJ0ZXhNZXNoLk1FU0hfVEVYVFVSRUNPT1JESU5BVEUwKi8yLFxyXG4gICAgICAgICAgICAnYV9Cb25lV2VpZ2h0cyc6LypsYXlhLmQzLmdyYXBoaWNzLlZlcnRleC5WZXJ0ZXhNZXNoLk1FU0hfQkxFTkRXRUlHSFQwKi83LFxyXG4gICAgICAgICAgICAnYV9Cb25lSW5kaWNlcyc6LypsYXlhLmQzLmdyYXBoaWNzLlZlcnRleC5WZXJ0ZXhNZXNoLk1FU0hfQkxFTkRJTkRJQ0VTMCovNlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHVuaWZvcm1NYXAgPSB7XHJcbiAgICAgICAgICAgICd1X0JvbmVzJzovKmxheWEuZDMuc2hhZGVyLlNoYWRlcjNELlBFUklPRF9DVVNUT00qLzAsXHJcbiAgICAgICAgICAgICd1X0FsYmVkb1RleHR1cmUnOi8qbGF5YS5kMy5zaGFkZXIuU2hhZGVyM0QuUEVSSU9EX01BVEVSSUFMKi8xLFxyXG4gICAgICAgICAgICAndV9BbGJlZG9Db2xvcic6LypsYXlhLmQzLnNoYWRlci5TaGFkZXIzRC5QRVJJT0RfTUFURVJJQUwqLzEsXHJcbiAgICAgICAgICAgICd1X1RpbGluZ09mZnNldCc6LypsYXlhLmQzLnNoYWRlci5TaGFkZXIzRC5QRVJJT0RfTUFURVJJQUwqLzEsXHJcbiAgICAgICAgICAgICd1X0FscGhhVGVzdFZhbHVlJzovKmxheWEuZDMuc2hhZGVyLlNoYWRlcjNELlBFUklPRF9NQVRFUklBTCovMSxcclxuICAgICAgICAgICAgJ3VfTXZwTWF0cml4JzovKmxheWEuZDMuc2hhZGVyLlNoYWRlcjNELlBFUklPRF9TUFJJVEUqLzIsXHJcbiAgICAgICAgICAgICd1X0ZvZ1N0YXJ0JzovKmxheWEuZDMuc2hhZGVyLlNoYWRlcjNELlBFUklPRF9TQ0VORSovNCxcclxuICAgICAgICAgICAgJ3VfRm9nUmFuZ2UnOi8qbGF5YS5kMy5zaGFkZXIuU2hhZGVyM0QuUEVSSU9EX1NDRU5FKi80LFxyXG4gICAgICAgICAgICAndV9Gb2dDb2xvcic6LypsYXlhLmQzLnNoYWRlci5TaGFkZXIzRC5QRVJJT0RfU0NFTkUqLzRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgdnMgPSBhd2FpdCBSRVNOb3JtYWwubG9hZFJlcyhcIlVubGl0U2hhZGVyL3ZzLmdsc2xcIik7XHJcbiAgICAgICAgbGV0IHBzID0gYXdhaXQgUkVTTm9ybWFsLmxvYWRSZXMoXCJVbmxpdFNoYWRlci9wcy5nbHNsXCIpO1xyXG5cclxuICAgICAgICBsZXQgc2hhZGVyID0gTGF5YS5TaGFkZXIzRC5hZGQoVW5saXRNYXRlcmlhbC5zaGFkZXJOYW1lKTtcclxuICAgICAgICBsZXQgc3ViU2hhZGVyID0gbmV3IExheWEuU3ViU2hhZGVyKGF0dHJpYnV0ZU1hcCwgdW5pZm9ybU1hcCwgTGF5YS5Ta2lubmVkTWVzaFNwcml0ZTNELnNoYWRlckRlZmluZXMsIFVubGl0TWF0ZXJpYWwuc2hhZGVyRGVmaW5lcyk7XHJcbiAgICAgICAgc2hhZGVyLmFkZFN1YlNoYWRlcihzdWJTaGFkZXIpO1xyXG4gICAgICAgIHN1YlNoYWRlci5hZGRTaGFkZXJQYXNzKHZzLCBwcyk7XHJcbiAgICB9XHJcbn0iLCJsZXQgbGEgPSBMYXlhO1xyXG5cclxuLy8vL+aZrumAmui1hOa6kOexu+Weiy8vLy9cclxuY29uc3QgUkVTX1BBVEhfQVRMQVM6IHN0cmluZyA9IFwicmVzL2F0bGFzXCI7XHRcdC8v5Zu+6ZuGXHJcbmNvbnN0IFJFU19QQVRIX0lNQUdFOiBzdHJpbmcgPSBcInJlcy9pbWFnZXNcIjtcdC8v5Zu+54mHXHJcbmNvbnN0IFJFU19QQVRIX0NPTkZJRzogc3RyaW5nID0gXCJyZXMvY29uZmlnc1wiO1x0Ly/phY3nva7mlofku7ZcclxuY29uc3QgUkVTX1BBVEhfQVVESU86IHN0cmluZyA9IFwicmVzL3NvdW5kc1wiOyAgIFx0Ly/pn7PpopEs5LiN6IO96aKE5YWI5Yqg6L29XHJcbmNvbnN0IFJFU19QQVRIX1ZJRVc6IHN0cmluZyA9IFwicmVzL3ZpZXdcIjsgICAgICAgLy/lr7zlh7rnmoRVSeaWh+S7tlxyXG5jb25zdCBSRVNfUEFUSF9BTklNQVRJT046IHN0cmluZyA9IFwicmVzL2FuaW1hdGlvblwiOyAvLyDliqjnlLvmlofku7ZcclxuY29uc3QgUkVTX1BBVEhfU0hBREVSOiBzdHJpbmcgPSBcInJlcy9nbHNsXCI7ICAgICAvLyBzaGFkZXLmlofku7ZcclxuLy8vLzNE57G75Z6L6LWE5rqQLy8vL1xyXG5jb25zdCBSRVNfUEFUSF9EM19TQ0VORVM6IHN0cmluZyA9IFwicmVzL2QzL3NjZW5lc1wiO1x0Ly/lnLrmma9cclxuY29uc3QgUkVTX1BBVEhfRDNfTU9ERUxTOiBzdHJpbmcgPSBcInJlcy9kMy9tb2RlbHNcIjtcdC8v5qih5Z6LXHJcbmNvbnN0IFJFU19QQVRIX0QzX09USEVSUzogc3RyaW5nID0gXCJyZXMvZDMvb3RoZXJzXCI7XHQvL+WFtuS7llxyXG5cclxuLyoq6LWE5rqQ57G75Z6LICovXHJcbmV4cG9ydCBlbnVtIFJFU19UWVBFXHJcbntcclxuICAgIG5vcm1hbCxcdC8v5pmu6YCa57G75Z6L77yM5Zu+6ZuG77yM5Zu+54mH77yM6YWN572u5paH5Lu2562JXHJcbiAgICBkM1x0XHQvLzNk6LWE5rqQ77yM5Zy65pmv77yM5qih5Z6L562JLDNk6LWE5rqQ55SoUkVTM0TliqDovb1cclxufVxyXG5cclxuLyoq6LWE5rqQ5bCB6KOF57G7ICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJFU1xyXG57XHJcbiAgICAvKipcclxuICAgICAqIOagueaNrui1hOa6kOawkeensOWQjue8gOaLvOaOpei1hOa6kOecn+Wunui3r+W+hO+8jOi1hOa6kOmcgOimgeaMieeFp+inhOWumuS9jee9ruWtmOaUvlxyXG4gICAgICog5Y+C5pWw5aaCOiAxLmpwZ1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGpvaW5SZXNQYXRoKHJlc05hbWU6IHN0cmluZyk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIC8vIOWmguaenOW3sue7j+aYr+WFqOi3r+W+hO+8jOWwseS4jeWBmuWHreaLvOaOpVxyXG4gICAgICAgIGlmIChyZXNOYW1lLmluZGV4T2YoXCJyZXMvXCIpID49IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBhdGggPSBcIlwiO1xyXG4gICAgICAgIGxldCBzdWZmaXggPSBsYS5VdGlscy5nZXRGaWxlRXh0ZW5zaW9uKHJlc05hbWUpO1xyXG4gICAgICAgIHN3aXRjaCAoc3VmZml4KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2FzZSBcImF0bGFzXCI6XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gUkVTX1BBVEhfQVRMQVM7XHJcbiAgICAgICAgICAgICAgICAvLyDlr7nluo/liJfluKfliqjnlLvlgZrkuJPpl6jlpITnkIZcclxuICAgICAgICAgICAgICAgIGlmIChyZXNOYW1lLmluZGV4T2YoXCJhbmltXCIpID49IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFJFU19QQVRIX0FOSU1BVElPTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicG5nXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJqcGdcIjpcclxuICAgICAgICAgICAgY2FzZSBcImpwZWdcIjpcclxuICAgICAgICAgICAgICAgIHBhdGggPSBSRVNfUEFUSF9JTUFHRTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICBjYXNlIFwieG1sXCI6XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gUkVTX1BBVEhfQ09ORklHO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtcDNcIjpcclxuICAgICAgICAgICAgY2FzZSBcIndhdlwiOlxyXG4gICAgICAgICAgICAgICAgcGF0aCA9IFJFU19QQVRIX0FVRElPO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJza1wiOlxyXG4gICAgICAgICAgICAgICAgcGF0aCA9IFJFU19QQVRIX0FOSU1BVElPTjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2NlbmVcIjpcclxuICAgICAgICAgICAgICAgIHBhdGggPSBSRVNfUEFUSF9WSUVXO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsc1wiOlxyXG4gICAgICAgICAgICAgICAgcGF0aCA9IFJFU19QQVRIX0QzX1NDRU5FUztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibGhcIjpcclxuICAgICAgICAgICAgICAgIHBhdGggPSBSRVNfUEFUSF9EM19NT0RFTFM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImdsc2xcIjpcclxuICAgICAgICAgICAgICAgIHBhdGggPSBSRVNfUEFUSF9TSEFERVI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzID0gYCR7cGF0aH0vJHtyZXNOYW1lfWA7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPlui1hOa6kOeahOWujOaVtOi3r+W+hFxyXG4gICAgICogQHBhcmFtIF9yZXNOYW1lIOi1hOa6kOWxgOmDqOi3r+W+hFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEZ1bGxSZXNQYXRoKF9yZXNOYW1lOiBzdHJpbmcpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5qb2luUmVzUGF0aChfcmVzTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5botYTmupDvvIzotYTmupDpnIDopoHlt7Lnu4/liqDovb3ov4fvvIzlkKbliJnov5Tlm57nqbpcclxuICAgICAqIEBwYXJhbSByZXNOYW1lIOi1hOa6kOWxgOmDqOi3r+W+hO+8jOS+i+Wmgjogc2NlbmUxL3NjZW5lMS5sc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFJlcyhyZXNOYW1lOiBzdHJpbmcpOiBhbnlcclxuICAgIHtcclxuICAgICAgICBsZXQgcmVzRnVsbE5hbWUgPSB0aGlzLmpvaW5SZXNQYXRoKHJlc05hbWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJlc0J5RnVsbE5hbWUocmVzRnVsbE5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W6LWE5rqQ77yM6LWE5rqQ6ZyA6KaB5bey57uP5Yqg6L296L+H77yM5ZCm5YiZ6L+U5Zue56m6XHJcbiAgICAgKiBAcGFyYW0gcmVzTmFtZSDotYTmupDlrozmlbTot6/lvoRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRSZXNCeUZ1bGxOYW1lKHJlc0Z1bGxOYW1lOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHJlcyA9IGxhLmxvYWRlci5nZXRSZXMocmVzRnVsbE5hbWUpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlrozlhajmuIXpmaTkuIDkuKrotYTmupDvvIzms6jmhI/vvJozZOi1hOa6kOmAmui/h+i/meS4quWPquiDvea4hemZpOS4gOWxguWjs++8jDNk6LWE5rqQ55qE566h55CG5Y+q6IO96YCa6L+HQXNzZXRSZWNvcmTmlofku7bmnaXlgZpcclxuICAgICAqIEBwYXJhbSByZXNOYW1lIOi1hOa6kOWxgOmDqOi3r+W+hFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNsZWFyUmVzKHJlc05hbWU6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICBsZXQgcmVzRnVsbE5hbWUgPSB0aGlzLmpvaW5SZXNQYXRoKHJlc05hbWUpO1xyXG4gICAgICAgIHRoaXMuY2xlYXJSZXNCeUZ1bGxOYW1lKHJlc0Z1bGxOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWujOWFqOa4hemZpOS4gOS4qui1hOa6kO+8jOazqOaEj++8mjNk6LWE5rqQ6YCa6L+H6L+Z5Liq5Y+q6IO95riF6Zmk5LiA5bGC5aOz77yMM2TotYTmupDnmoTnrqHnkIblj6rog73pgJrov4dBc3NldFJlY29yZOaWh+S7tuadpeWBmlxyXG4gICAgICogQHBhcmFtIHJlc05hbWUg6LWE5rqQ5a6M5pW06Lev5b6EXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY2xlYXJSZXNCeUZ1bGxOYW1lKHJlc0Z1bGxOYW1lOiBzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gbGcuaW5mbyhUR19SRVMsIFwiY2xlYXJSZXNCeUZ1bGxOYW1lICVvXCIsIHJlc0Z1bGxOYW1lKTtcclxuICAgICAgICBMYXlhLkxvYWRlci5jbGVhclJlcyhyZXNGdWxsTmFtZSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKirmma7pgJrotYTmupDliqDovb3lsIHoo4UgKi9cclxuZXhwb3J0IGNsYXNzIFJFU05vcm1hbFxyXG57XHJcbiAgICAvKipcclxuICAgICAqIOiOt+W+l+S4gOW8oOWbvumbhuS4reeahOWbvueJhyzlm77pm4bpnIDopoHlt7LliqDovb3ov4fvvIzlkKbliJnlm57nqbpcclxuICAgICAqIEBwYXJhbSBhdGxhc05hbWUg5Zu+6ZuG5ZCN56ewXHJcbiAgICAgKiBAcGFyYW0gaW1nTmFtZSDlm77niYflkI3np7BcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbWFnZUZyb21BdGxhcyhhdGxhc05hbWU6IHN0cmluZywgaW1nTmFtZTogc3RyaW5nKTogbGF5YS5yZXNvdXJjZS5UZXh0dXJlXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGZ1bGxQYXRoID0gYCR7YXRsYXNOYW1lfS8ke2ltZ05hbWV9YDtcclxuICAgICAgICByZXR1cm4gUkVTLmdldFJlc0J5RnVsbE5hbWUoZnVsbFBhdGgpIGFzIGxheWEucmVzb3VyY2UuVGV4dHVyZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9veWNleS4qui1hOa6kCzlm77pm4bjgIHlm77niYfjgIHphY3nva7ooajnrYlcclxuICAgICAqIEBwYXJhbSBfcmVzTmFtZSDotYTmupDlsYDpg6jot6/lvoTvvIzkvovlpoI6IGJnLnBuZ1xyXG4gICAgICogQHBhcmFtIF9uZWVkTWdyIOaYr+WQpuW9kuS6juWcuuaZr+euoeeQhlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGxvYWRSZXMoX3Jlc05hbWU6IHN0cmluZywgX3Byb2dyYXNzRnVuYyA9IG51bGwpOiBQcm9taXNlPGFueT5cclxuICAgIHtcclxuICAgICAgICBsZXQgcmVhbF9wYXRoID0gUkVTLmpvaW5SZXNQYXRoKF9yZXNOYW1lKTtcclxuICAgICAgICBpZiAoIXJlYWxfcGF0aCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFJlc0J5RnVsbE5hbWUocmVhbF9wYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vei1hOa6kOe7hFxyXG4gICAgICogQHBhcmFtIF9yZXNBcnIg6LWE5rqQ57uE5pWw57uE77yM5q+P5Liq6LWE5rqQ6YO95piv5bGA6YOo6Lev5b6EXHJcbiAgICAgKiBAcGFyYW0gX3Byb2dyYXNzRnVuYyDov5vluqblm57osIPvvIzluKbkuIDkuKrlj4LmlbDvvIgwLTHvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkR3JvdXBBc3luYyhfcmVzQXJyOiBzdHJpbmdbXSwgX3Byb2dyYXNzRnVuYyA9IG51bGwpOiBQcm9taXNlPGJvb2xlYW4+XHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCFfcmVzQXJyIHx8IF9yZXNBcnIubGVuZ3RoIDw9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZWFsX3Jlc19hcnIgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCByZXNfbmFtZSBvZiBfcmVzQXJyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHJlYWxfbmFtZSA9IFJFUy5qb2luUmVzUGF0aChyZXNfbmFtZSk7XHJcbiAgICAgICAgICAgIHJlYWxfcmVzX2Fyci5wdXNoKHJlYWxfbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRSZXNCeUZ1bGxOYW1lKHJlYWxfcmVzX2FyciwgX3Byb2dyYXNzRnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliqDovb3otYTmupAs5L2/55So5a6M5pW06Lev5b6EXHJcbiAgICAgKiBAcGFyYW0gX3Jlc05hbWUg5a6M5pW06LWE5rqQ6Lev5b6E5oiW6LWE5rqQ57uE5ZCNXHJcbiAgICAgKiBAcGFyYW0gcHJvZ3Jhc3NGdW5jIOi/m+W6puWbnuiwg++8jOW4puS4gOS4quWPguaVsO+8iDAtMe+8iVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGxvYWRSZXNCeUZ1bGxOYW1lKHJlc0Z1bGxOYW1lOiBhbnksIHByb2dyYXNzRnVuYyA9IG51bGwpOiBQcm9taXNlPGFueT5cclxuICAgIHtcclxuICAgICAgICBpZiAoIXJlc0Z1bGxOYW1lKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHByb2dyYXNzSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgLy8gbGcuaW5mbyhUR19SRVMsIFwibG9hZFJlc0Z1bGwgbm9ybWFsICVvXCIsIHJlc0Z1bGxOYW1lKTtcclxuICAgICAgICBsZXQgcHJvZ3Jlc3NfaGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgaWYgKHByb2dyYXNzRnVuYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHByb2dyZXNzX2hhbmRsZXIgPSBsYS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBwcm9ncmFzc0Z1bmMsIG51bGwsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGEubG9hZGVyLmxvYWRcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIHJlc0Z1bGxOYW1lLFxyXG4gICAgICAgICAgICAgICAgbGEuSGFuZGxlci5jcmVhdGUodGhpcywgKF9yZXMpID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGcuaW5mbyhUR19SRVMsIFwibG9hZFJlc0Z1bGwgbm9ybWFsIG92ZXIgJW9cIiwgcmVzRnVsbE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3Jlcyk7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzX2hhbmRsZXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKiozZOi1hOa6kOWKoOi9veWwgeijhSAqL1xyXG5leHBvcnQgY2xhc3MgUkVTRDNcclxue1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qC55o2ubGjjgIFsc+i1hOa6kOWQjeensO+8jOiOt+WPluWvueW6lOeahEFzc2V0c1JlY29yZOaWh+S7tui3r+W+hFxyXG4gICAgICogQHBhcmFtIHJlc05hbWUg5Zy65pmv5oiW5qih5Z6L6LWE5rqQ55qE5bGA6YOo6Lev5b6EXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QXNzZXRzUmVjb3JkKHJlc05hbWU6IHN0cmluZyk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIGxldCByZXNGdWxsTmFtZSA9IFJFUy5qb2luUmVzUGF0aChyZXNOYW1lKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBc3NldHNSZWNvcmRCeVJlc0Z1bGxOYW1lKHJlc0Z1bGxOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOagueaNrmxo44CBbHPotYTmupDlkI3np7DvvIzojrflj5blr7nlupTnmoRBc3NldHNSZWNvcmTmlofku7bot6/lvoRcclxuICAgICAqIEBwYXJhbSByZXNGdWxsTmFtZSDlnLrmma/miJbmqKHlnovotYTmupDnmoTlrozmlbTot6/lvoRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRBc3NldHNSZWNvcmRCeVJlc0Z1bGxOYW1lKHJlc0Z1bGxOYW1lOiBzdHJpbmcpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICBsZXQgbnVtID0gcmVzRnVsbE5hbWUubGFzdEluZGV4T2YoJy8nKTtcclxuICAgICAgICBsZXQgcGFyZW50Rm9sZGVyID0gcmVzRnVsbE5hbWUuc3Vic3RyKDAsIG51bSk7XHJcbiAgICAgICAgbGV0IGFzc2V0c1JlY29yZFVybCA9IGAke3BhcmVudEZvbGRlcn0vQXNzZXRzUmVjb3JkLmpzb25gO1xyXG4gICAgICAgIHJldHVybiBhc3NldHNSZWNvcmRVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bmn5DkuKrlt7LliqDovb3ov4fnmoQzZOeJqeS9k+eahOWFi+mahlxyXG4gICAgICogQHBhcmFtIF9yZXNOYW1lIOWxgOmDqOi3r+W+hFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFNwcml0ZWQzRENsb25lKHJlc05hbWUpOiBMYXlhLlNwcml0ZTNEXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHNwcml0ZU1vZGVsOiBMYXlhLlNwcml0ZTNEID0gUkVTLmdldFJlcyhyZXNOYW1lKSBhcyBMYXlhLlNwcml0ZTNEO1xyXG4gICAgICAgIHJldHVybiBzcHJpdGVNb2RlbC5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L29M0TotYTmupAs5L2/55So5a6M5pW06Lev5b6EXHJcbiAgICAgKiBAcGFyYW0gcmVzRnVsbE5hbWUg6LWE5rqQ5bGA6YOo6Lev5b6EXHJcbiAgICAgKiBAcGFyYW0gcHJvZ3Jhc3NGdW5jIGxvYWRpbmflh73mlbBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkUmVzKHJlc05hbWU6IHN0cmluZywgcHJvZ3Jhc3NGdW5jOiBGdW5jdGlvbiA9IG51bGwpOiBQcm9taXNlPGFueT5cclxuICAgIHtcclxuICAgICAgICBsZXQgcmVzRnVsbE5hbWUgPSBSRVMuZ2V0RnVsbFJlc1BhdGgocmVzTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFJlc0J5RnVsbE5hbWUocmVzRnVsbE5hbWUsIHByb2dyYXNzRnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliqDovb0zROi1hOa6kOe7hFxyXG4gICAgICogQHBhcmFtIF9yZXNBcnIg6LWE5rqQ57uE5pWw57uE77yM5omA5pyJ6LWE5rqQ6YO95piv5bGA6YOo6Lev5b6EXHJcbiAgICAgKiBAcGFyYW0gX3Byb2dyYXNzRnVuYyDov5vluqblm57osIPvvIzluKbkuIDkuKrlj4LmlbDvvIgwLTHvvIlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkR3JvdXBBc3luYyhfcmVzQXJyOiBzdHJpbmdbXSwgX3Byb2dyYXNzRnVuYyA9IG51bGwpOiBQcm9taXNlPGFueT5cclxuICAgIHtcclxuICAgICAgICBpZiAoIV9yZXNBcnIgfHwgX3Jlc0Fyci5sZW5ndGggPD0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlYWxfcmVzX2FyciA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IHJlc19uYW1lIG9mIF9yZXNBcnIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgcmVhbF9uYW1lID0gUkVTLmpvaW5SZXNQYXRoKHJlc19uYW1lKTtcclxuICAgICAgICAgICAgcmVhbF9yZXNfYXJyLnB1c2gocmVhbF9uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFJlc0J5RnVsbE5hbWUocmVhbF9yZXNfYXJyLCBfcHJvZ3Jhc3NGdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vTNE6LWE5rqQ57uEXHJcbiAgICAgKiBAcGFyYW0gX3Jlc0FyciDotYTmupDnu4TmlbDnu4TvvIzmiYDmnInotYTmupDpg73mmK/lrozmlbTot6/lvoRcclxuICAgICAqIEBwYXJhbSBfcHJvZ3Jhc3NGdW5jIOi/m+W6puWbnuiwg++8jOW4puS4gOS4quWPguaVsO+8iDAtMe+8iVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGxvYWRHcm91cEFzeW5jQnlGdWxsTmFtZShfcmVzQXJyOiBzdHJpbmdbXSwgX3Byb2dyYXNzRnVuYyA9IG51bGwpOiBQcm9taXNlPGFueT5cclxuICAgIHtcclxuICAgICAgICBpZiAoIV9yZXNBcnIgfHwgX3Jlc0Fyci5sZW5ndGggPD0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFJlc0J5RnVsbE5hbWUoX3Jlc0FyciwgX3Byb2dyYXNzRnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliqDovb0zROi1hOa6kCzkvb/nlKjlrozmlbTot6/lvoRcclxuICAgICAqIEBwYXJhbSByZXNGdWxsTmFtZSDotYTmupDlrozmlbTot6/lvoRcclxuICAgICAqIEBwYXJhbSBwcm9ncmFzc0Z1bmMgbG9hZGluZ+WHveaVsFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGxvYWRSZXNCeUZ1bGxOYW1lKHJlc0Z1bGxOYW1lOiBhbnksIHByb2dyYXNzRnVuYzogRnVuY3Rpb24gPSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghcmVzRnVsbE5hbWUpIHJldHVybjtcclxuICAgICAgICBsZXQgcHJvZ3Jhc3NIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAvLyBsZy5pbmZvKFRHX1JFUywgXCJsb2FkUmVzQnlGdWxsTmFtZSAzZCBiZWdpbiAlb1wiLCByZXNGdWxsTmFtZSk7XHJcbiAgICAgICAgbGV0IHByb2dyZXNzX2hhbmRsZXI6IExheWEuSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgaWYgKHByb2dyYXNzRnVuYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHByb2dyZXNzX2hhbmRsZXIgPSBsYS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBwcm9ncmFzc0Z1bmMsIG51bGwsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGEubG9hZGVyLmNyZWF0ZVxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgcmVzRnVsbE5hbWUsXHJcbiAgICAgICAgICAgICAgICBsYS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxnLmluZm8oVEdfUkVTLCBcImxvYWRSZXNCeUZ1bGxOYW1lIDNkIG92ZXIgJW9cIiwgcmVzRnVsbE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NfaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L29M0TotYTmupAs5Z+65LqOQXNzZXRzUmVjb3Jk5Yqg6L29LOi/m+W6puadoeabtOeyvue7hlxyXG4gICAgICogQHBhcmFtIHJlc0Z1bGxOYW1lIOi1hOa6kOWujOaVtOi3r+W+hFxyXG4gICAgICogQHBhcmFtIHByb2dyYXNzRnVuYyBsb2FkaW5n5Ye95pWwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgbG9hZFJlc0J5QXNzZXRzUmVjb3JkKHJlc0Z1bGxOYW1lOiBzdHJpbmcsIHByb2dyYXNzRnVuYzogRnVuY3Rpb24gPSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIC8vIC4g5Yqg6L29QXNzZXRzUmVjb3Jk5paH5Lu277yM6L6D5bCP77yM5LiN6K6h5YWl6L+b5bqm5YC8XHJcbiAgICAgICAgbGV0IGFyUmVzID0gdGhpcy5nZXRBc3NldHNSZWNvcmRCeVJlc0Z1bGxOYW1lKHJlc0Z1bGxOYW1lKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRSZXNCeUZ1bGxOYW1lKGFyUmVzKTtcclxuICAgICAgICBsZXQgYXJDb25maWcgPSBSRVMuZ2V0UmVzQnlGdWxsTmFtZShhclJlcyk7XHJcbiAgICAgICAgaWYgKCFhckNvbmZpZyB8fCBhckNvbmZpZy5sZW5ndGggPD0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gLiDnu4Tnu4fopoHliqDovb3nmoTotYTmupDmlofku7ZcclxuICAgICAgICBsZXQgcmVzQXJyID0gW107XHJcbiAgICAgICAgbGV0IG51bSA9IHJlc0Z1bGxOYW1lLmxhc3RJbmRleE9mKCcvJyk7XHJcbiAgICAgICAgbGV0IHBhcmVudEZvbGRlciA9IHJlc0Z1bGxOYW1lLnN1YnN0cigwLCBudW0pICsgJy8nO1xyXG4gICAgICAgIGZvciAobGV0IHJlcyBvZiBhckNvbmZpZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc0Fyci5wdXNoKHBhcmVudEZvbGRlciArIHJlcy51cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRSZXNCeUZ1bGxOYW1lKHJlc0FyciwgcHJvZ3Jhc3NGdW5jKTtcclxuICAgICAgICAvLyDmnIDlkI7lho3liqDovb3lubbliJvlu7roh6rouqvvvIhsc+OAgWxo77yJ77yM5YW25YaF6YOo6LWE5rqQ5bey57uP5Zyo5LiK5pa55Yqg6L295a6M5LqGXHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkUmVzQnlGdWxsTmFtZShyZXNGdWxsTmFtZSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFJFUywgeyBSRVNEMyB9IGZyb20gXCIuL1JFU1wiO1xyXG5pbXBvcnQgeyBDYXJDb250cm9sbGVyIH0gZnJvbSBcIi4vQ2FyQ29udHJvbGxlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVzdFNjZW5lM1xyXG57XHJcbiAgICAvLyBzY2VuZVVybCA9IFwic2NlbmUwMy9Db252ZW50aW9uYWwvc2NlbmUwMy5sc1wiO1xyXG4gICAgc2NlbmVVcmwgPSBcInNjZW5lMDEvQ29udmVudGlvbmFsL3Rlc3QxLmxzXCI7XHJcbiAgICBzY2VuZTogTGF5YS5TY2VuZTNEO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB3aW5kb3dbJ3Rlc3QnXSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5sb2FkU2NlbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkU2NlbmUoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBzY2VuZSA9IG5ldyBMYXlhLlNjZW5lM0QoKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkQXQoc2NlbmUsIDApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICAvLyBhd2FpdCBSRVNEMy5sb2FkUmVzKHRoaXMuc2NlbmVVcmwpO1xyXG4gICAgICAgIC8vIGxldCBzY2VuZSA9IFJFUy5nZXRSZXModGhpcy5zY2VuZVVybCkgYXMgTGF5YS5TY2VuZTNEO1xyXG4gICAgICAgIC8vIExheWEuc3RhZ2UuYWRkQ2hpbGQoc2NlbmUpO1xyXG4gICAgICAgIC8vIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICAgICAgLy8gbGV0IGNhciA9IHNjZW5lLmdldENoaWxkQnlOYW1lKFwiY2FyXCIpIGFzIExheWEuU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gbGV0IGNhckN0cmwgPSBjYXIuYWRkQ29tcG9uZW50KENhckNvbnRyb2xsZXIpO1xyXG5cclxuICAgICAgICAvLyAvL+a3u+WKoOeFp+ebuOaculxyXG4gICAgICAgIGxldCBjYW1lcmE6IExheWEuQ2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgwLCAwLjEsIDEwMCkpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDMsIDMpKTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkZXN0b3J5U2NlbmUoKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHRoaXMuc2NlbmUucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIC8vIHRoaXMuc2NlbmUuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICAvLyB0aGlzLnNjZW5lID0gbnVsbDtcclxuICAgICAgICAvLyBSRVMuY2xlYXJSZXModGhpcy5zY2VuZVVybCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXJsMSA9IFwicmVzL2JnLmpwZ1wiO1xyXG4gICAgdXJsMiA9IFwicmVzL2JnX2NyZWF0ZS5wbmdcIjtcclxuXHJcbiAgICBpbWcxOiBMYXlhLkltYWdlO1xyXG4gICAgbG9hZEltZyh1cmwpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBMYXlhLkltYWdlKCk7XHJcbiAgICAgICAgaW1nLmxvYWRJbWFnZSh1cmwpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQoaW1nKTtcclxuICAgICAgICB0aGlzLmltZzEgPSBpbWc7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJJbWcoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaW1nMS50ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5pbWcxLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5pbWcxID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBiYXNlVXJsID0gXCJyZXMvZDMvbW9kZWxzL0FyY2hfQUEwMC9cIlxyXG4gICAgYXNzZXRVcmwgPSBcIkFzc2V0c1JlY29yZC5qc29uXCI7XHJcbiAgICBtb2RlbFVybCA9IFwiQXJjaF9BQTAwLmxoXCI7XHJcblxyXG4gICAgLy8gYmFzZVVybCA9IFwicmVzL2QzL21vZGVscy93b21hbkJvZHkwMS9cIlxyXG4gICAgLy8gYXNzZXRVcmwgPSBcIkFzc2V0c1JlY29yZC5qc29uXCI7XHJcbiAgICAvLyBtb2RlbFVybCA9IFwid29tYW5Cb2R5MDEubGhcIjtcclxuICAgIG1vZGVsOiBMYXlhLlNwcml0ZTNEO1xyXG5cclxuICAgIGFzeW5jIGxvYWRNb2RlbCgpXHJcbiAgICB7XHJcbiAgICAgICAgYXdhaXQgUkVTRDMubG9hZFJlcyh0aGlzLmJhc2VVcmwgKyB0aGlzLm1vZGVsVXJsKTtcclxuICAgICAgICBsZXQgbW9kZWwgPSBSRVMuZ2V0UmVzKHRoaXMuYmFzZVVybCArIHRoaXMubW9kZWxVcmwpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkQ2hpbGQobW9kZWwpO1xyXG5cclxuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdG9yeU1vZGVsKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMubW9kZWwpO1xyXG4gICAgICAgIHRoaXMubW9kZWwucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIHRoaXMubW9kZWwuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICB0aGlzLm1vZGVsID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFzc2V0c0Rpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzc2V0c0Rpc3Bvc2UoKVxyXG4gICAge1xyXG4gICAgICAgIC8v5Yqg6L296LWE5rqQ6YeK5pS+6KGoXHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZCh0aGlzLmJhc2VVcmwgKyB0aGlzLmFzc2V0VXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Bc3NldE9LKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDovb3otYTmupDph4rmlL7ooajlrozmiJDlkI5cclxuICAgIHByaXZhdGUgb25Bc3NldE9LKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICAvL+iOt+WPluWKoOi9veeahOaVsOaNru+8iEpzb27mlbDmja7ovazljJbmiJDmlbDnu4TvvIlcclxuICAgICAgICB2YXIgYXJyOiBhbnkgPSBMYXlhLkxvYWRlci5nZXRSZXModGhpcy5iYXNlVXJsICsgdGhpcy5hc3NldFVybCk7XHJcbiAgICAgICAgZm9yICh2YXIgaTogbnVtYmVyID0gYXJyLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy/moLnmja7otYTmupDot6/lvoTojrflj5botYTmupBcclxuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuYmFzZVVybCArIGAke2FycltpXS51cmx9YDtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlOiBMYXlhLlJlc291cmNlID0gTGF5YS5sb2FkZXIuZ2V0UmVzKHVybCkgYXMgTGF5YS5SZXNvdXJjZTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih1cmwsIHJlc291cmNlKTtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL+i1hOa6kOmHiuaUvlxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iXX0=
